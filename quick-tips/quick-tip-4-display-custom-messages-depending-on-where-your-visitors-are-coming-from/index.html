<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7  closed balloons"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8  closed balloons"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9  closed balloons"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js  closed balloons"> <!--<![endif]-->
  <head>
<base href="http://nouveller.com" />

    <meta charset="utf-8">

    <title>Quick Tip #4 &#8211; Display custom messages depending on where your visitors are coming from &mdash; Nouveller</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="">

    <link href="http://fonts.googleapis.com/css?family=Glegoo|Inconsolata|Open+Sans:400italic,400,700" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/screen.css">
    
    <script src="/static/js/libs/modernizr-2.6.2.min.js"></script>

		
<link rel='stylesheet' id='jetpack-subscriptions-css'  href='http://nouveller.com/wp/wp-content/plugins/jetpack/modules/subscriptions/subscriptions.css?ver=3.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://nouveller.com/wp/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<script type='text/javascript' src='http://nouveller.com/wp/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://nouveller.com/wp/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>

 

<link rel='next' title='Top five bookmarks #July' href='http://nouveller.com/bookmarks/top-five-bookmarks-july/' />
<link rel='canonical' href='http://nouveller.com/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/' />
<link rel='shortlink' href='http://wp.me/px2hb-ei' />
<style type='text/css'>img#wpstats{display:none}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Quick Tip #4 - Display custom messages depending on where your visitors are coming from" />
<meta property="og:url" content="http://nouveller.com/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/" />
<meta property="og:description" content="In this quick tip, I&#039;ll show you how to display custom messages to your visitors depending on where they click from onto your website. I saw this technique and at first thought, how is this being d..." />
<meta property="article:published_time" content="2009-06-29T17:05:59+00:00" />
<meta property="article:modified_time" content="2009-06-29T17:05:59+00:00" />
<meta property="article:author" content="http://nouveller.com/author/benjamin/" />
<meta property="og:site_name" content="Nouveller" />
<meta property="og:image" content="http://wordpress.com/i/blank.jpg" />
<meta name="twitter:site" content="@jetpack" />
<meta name="twitter:card" content="summary" />

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8404687-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
	</head>

	<body class="single single-post postid-886 single-format-standard">

    <header class="page-header fixed-top">
      <div class="wrapper">
        
        <a href="http://nouveller.com" class="opacity-hover offset-bottom nouveller-logo">
        	<img src="/static/img/logo-nouveller.png" alt="Nouveller logo">
        </a>

        <nav class="offset-bottom pos-right">
          <ul class="main-nav">
            <li class="nav-work"><a href="http://nouveller.com/work">Work</a></li>
            <li class="nav-articles"><a href="http://nouveller.com/articles">Articles</a></li>
            <li class="nav-labs"><a href="http://nouveller.com/labs">Labs</a></li>
            <li class="nav-contact"><a href="http://nouveller.com/contact">Contact</a></li>
          </ul>
        </nav>

        <a href="" class="nav-btn" id="displayNav">Display nav</a>

      </div><!-- /.wrapper -->
    </header><!-- /.page-header .fixed-top -->
<div class="content inner-wrapper clearfix">
      
  <div class="main">

		
			<header>
	      <h1>Quick Tip #4 &#8211; Display custom messages depending on where your visitors are coming from</h1>
	      <p class="meta">Posted on <time>June 29, 2009</time></p>
	    </header>

	    <p>In this quick tip, I'll show you how to display custom messages to your visitors depending on where they click from onto your website. I saw this technique and at first thought, how is this being done?! But I'd forgot the value's <code>PHP</code> can store in <code>$_SERVER</code></p>
<h2>Below is the full code</h2>
<p>If you want to quickly grab the code and get this up and running just copy and paste this code below into your site. This will detect people coming from Google or Twitter and display a message accordingly. If you'd like to know how it all works, read on after the snippet.</p>
<pre lang="PHP">
<?php
	
	// if a http refferer is set, continue
	// this prevents any kind of error message if it's not set
	
	if(isset($_SERVER['HTTP_REFERER'])) {

		// set the http refferer into the value $ref
	
		$ref = $_SERVER['HTTP_REFERER'];
		
		// if the $ref value contains 'twitter', continue

		if(stristr($ref, 'twitter')) {
		
			// echo the statement
			
			echo 'Welcome Twitter user';
			
		} elseif (stristr($ref, 'google')) {
		
			// echo the statement
			
			echo 'Welcome Google user';
			
		}
	}
	
?>
</pre>
<h2>How all this fan-dango works</h2>
<p>Here we open an <code>if</code> statement to check if the server has the HTTP referrer set, sometimes servers don't set this value (though the majority should do) and will give you a nasty error message if they don't, so this bit of code will prevent that from happening.</p>
<pre lang="PHP">
<?php
	
	if(isset($_SERVER['HTTP_REFERER'])) {
</pre>
<p>Now if the referrer is set we then store it in value of <code>$ref</code> for later use.</p>
<pre lang="PHP">

		$ref = $_SERVER['HTTP_REFERER'];

</pre>
<p>Now for the important bit. I've now opened up another <code>if</code> statement that uses the function <code>stristr</code> to search through the HTTP referrer (remember, our HTTP referrer will be set in <code>$ref</code>) for the word 'twitter'. If our statement is true, it will then say 'Welcome Twitter user'. Though this is the most simple of uses, you could use it to display a follow message or subscribe details, whatever your noggin can think of.</p>
<pre lang="PHP">

		if(stristr($ref, 'twitter')) {
		
			// echo the statement
			
			echo 'Welcome Twitter user';
			
		}

</pre>
<p>That's about it for this one, I'm thinking of maybe turning this into a plugin for WordPress using my <a href="http://nouveller.com/general/free-social-media-bookmark-icon-pack-the-ever-growing-icon-set/" title="Download the set for free!">Social Media Icons</code> in the process, yes... no..?</p>

	    
<div class="comments">

			
		<h3>3 comments</h3>

		<ul class="comments-list">
					<li id="li-comment-769">
			<div class="comment" id="comment-769">

				<img alt='' src='http://1.gravatar.com/avatar/3690438ba022c31166bc90ba4cade2e2?s=48&amp;d=&amp;r=G' class='avatar avatar-48 photo' height='48' width='48' />
				<p class="meta"><a href='http://twitter.com/foGGyX' rel='external nofollow' class='url'>Liam Goodacre</a> wrote on <time>30th June 2009</time></p>
				
				<p>ooh nice tip <img src="http://nouveller.com/wp/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /><br />
thanks,</p>
<p>and deff build as a WP plugin!</p>
<p>-Liam Goodacre</p>
				
				<div class="reply">
					<a class='comment-reply-link' href='/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/?replytocom=769#respond' onclick='return addComment.moveForm("comment-769", "769", "respond", "886")'>Reply</a>				</div><!-- .reply -->

			</div><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="trackback even thread-even depth-1" id="comment-770">
			<p>Pingback: <a href='http://www.custom-facebookfanpages.com/facebook-promotion-services.html' rel='external nofollow' class='url'>facebook fan page design</a> </p>
		</li><!-- #comment-## -->
		<li id="li-comment-771">
			<div class="comment" id="comment-771">

				<img alt='' src='http://0.gravatar.com/avatar/c934fd1607f03267a38a9b83fe8a16c9?s=48&amp;d=&amp;r=G' class='avatar avatar-48 photo' height='48' width='48' />
				<p class="meta"><a href='http://.' rel='external nofollow' class='url'>Demarcus Balm</a> wrote on <time>21st March 2012</time></p>
				
				<p>Howdy very nice web site!! Man .. Beautiful .. Superb .. I&#8217;ll bookmark your web site and take the feeds additionallyâ€¦I am glad to search out so many helpful info right here within the post, we&#8217;d like develop extra techniques in this regard, thanks for sharing. . . . . . Exotic Escorts, 235a South Lambeth Road, London, SW8 1XR, 020 3011 2463</p>
				
				<div class="reply">
					<a class='comment-reply-link' href='/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/?replytocom=771#respond' onclick='return addComment.moveForm("comment-771", "771", "respond", "886")'>Reply</a>				</div><!-- .reply -->

			</div><!-- #comment-## -->
		</li><!-- #comment-## -->
		</ul><!-- .commentlist -->

		
		
	</div><!-- /.comments -->

<div class="comment-form">
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Add your comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://nouveller.com/wp/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										<div class="form-details"><input id="author" name="author" class="input-text" type="text" placeholder="Name" value="">
<input id="email" name="email" class="input-text" type="text" placeholder="Email" value="">
<input id="url" name="url" class="input-text" type="text" placeholder="Website (optional)" value=""></div>
												<textarea id="comment" name="comment" class="input-textarea" placeholder="Comment"></textarea>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='886' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="8ed0187c99" /></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p><script type='text/javascript' src='http://nouveller.com/wp/wp-content/plugins/akismet/_inc/form.js?ver=3.0.0'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="59"/></p>					</form>
							</div><!-- #respond -->
			</div>
	  
	</div><!-- /.main -->

	<div class="sidebar articles-sidebar">
		<h5>Category</h5>
<ul class="post-categories">
	<li><a href="http://nouveller.com/category/quick-tips/" title="View all posts in Quick Tips" rel="category tag">Quick Tips</a></li></ul>


<h5>tags</h5><ul class="plain-list inline-list clearfix"><li><a href="http://nouveller.com/tag/google/" rel="tag">Google</a></li><li><a href="http://nouveller.com/tag/php/" rel="tag">PHP</a></li><li><a href="http://nouveller.com/tag/twitter/" rel="tag">Twitter</a></li><li><a href="http://nouveller.com/tag/wordpress/" rel="tag">wordpress</a></li></ul>
<h5>Share</h5>
<ul class="plain-list share-list">
	<li><a data-related="nouveller,benjaminreid" data-text="Quick Tip #4 &#8211; Display custom messages depending on where your visitors are coming from" data-url="http://nouveller.com/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/" href="https://twitter.com/share" class="twitter-share-button" data-lang="en">Tweet</a></li>
	<li><iframe src="//www.facebook.com/plugins/like.php?href=http://nouveller.com/quick-tips/quick-tip-4-display-custom-messages-depending-on-where-your-visitors-are-coming-from/&amp;send=false&amp;layout=button_count&amp;width=140&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=253536277996804" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:140px; height:21px;" allowTransparency="true"></iframe></li>
	<li><div class="g-plusone" data-size="medium"></div></li>
</ul>	</div>

</div><!-- /.content -->

    <footer class="section-footer">
      <div class="content inner-wrapper">

        <div class="row">
          <div class="about-me">
            <h2>About</h2>
            <p>Nouveller is a creative outlet for me to talk about what I learn and show the world what I create. I like sharing what I learn, in hope it can help others learning as well so you'll hopefully see plenty of articles on HTML, CSS, JavaScript, PHP and Ruby. There's also plenty of experiments and hidden gems to be found! <a href="http://www.youtube.com/watch?v=Zce-QT7MGSE" target="_blank">Luck dip?</a></p>
          </div>
          <div class="social-links">
            <h2>You can find me on</h2>
            <ul class="two-column-list">
              <li><a target="_blank" href="https://twitter.com/BenjaminReid" class="twitter">Twitter</a></li>
              <li><a target="_blank" href="https://www.facebook.com/fb.nouveller" class="facebook">Facebook</a></li>
              <li><a target="_blank" href="http://forrst.com/people/nouveller/" class="forrst">Forrst</a></li>
              <li><a target="_blank" href="http://www.flickr.com/photos/nouveller" class="flick">Flick<span class="r">r</span></a></li>
              <li><a target="_blank" href="http://pinterest.com/benjaminreid/" class="pinterest">Pinterest</a></li>
              <li><a target="_blank" href="http://www.youtube.com/user/semper0fi" class="you">You<span class="tube">Tube</span></a></li>
              <li><a target="_blank" href="http://www.strava.com/athletes/238785" class="strava">Strava</a></li>
              <li><a target="_blank" href="http://vimeo.com/nouveller" class="vimeo">Vimeo</a></li>
            </ul>
          </div><!-- /.social-links -->
        </div><!-- /.row -->

        <div class="break"></div>

        <div class="twitter-feed aligncentre">
          <img src="/static/img/twitter-logo.png" alt="Twitter logo">
          <p><span class="twitter">@BenjaminReid:</span> Clever girl...</p>
          <a href="https://twitter.com/BenjaminReid" class="twitter-follow-button" data-show-count="false">Follow @BenjaminReid</a>
        </div><!-- /.twitter-feed -->

      </div><!-- /.content inner-wrapper -->

      <section class="section-footnotes">
        <div class="inner-wrapper aligncentre">
          <p>Nouveller &mdash; Seeker | <a href="mailto:benjamin@nouveller.com">benjamin@nouveller.com</a><br />
          &copy; Nouveller 2014 | Designed &amp; built by <a href="http://www.benjaminreid.me/">Benjamin Reid</a> in the &hearts; of <a href="https://www.google.com/maps?q=Bristol,+UK">Bristol</a> | Hosted by <a href="http://www.memset.com/">Memset</a></p>
        </div><!-- /.inner-wrapper -->
      </section>

    </footer>


        <script src="/static/js/seeker.build.js"></script>
    
        	<div style="display:none">
	<div class="grofile-hash-map-3690438ba022c31166bc90ba4cade2e2">
	</div>
	<div class="grofile-hash-map-3edd2e9b02fe09285eaaa3950621c709">
	</div>
	</div>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201437'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2014Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://nouveller.com/wp/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.8.3'></script>

	<script src="http://stats.wordpress.com/e-201437.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.9.3',blog:'7873577',post:'886',tz:'0'});
	var load_cmc = function(){linktracker_init(7873577,886,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>    
  </body>
</html>