/*! jQuery UI - v1.10.0 - 2013-02-09
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();if("area"===u){r=t.parentNode;i=r.name;if(!t.href||!i||r.nodeName.toLowerCase()!=="map")return!1;o=e("img[usemap=#"+i+"]")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus();n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}});e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}});e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0;r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0);s&&(n-=parseFloat(e.css(t,"margin"+this))||0)});return n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})};e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}});e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))});e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData));e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r){s.plugins[i]=s.plugins[i]||[];s.plugins[i].push([n,r[i]])}},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;if(t[r]>0)return!0;t[r]=1;i=t[r]>0;t[r]=0;return i}})})(jQuery);(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)};e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1];i=f+"-"+t;if(!r){r=n;n=e.Widget}e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)};e[f]=e[f]||{};s=e[f][t];o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)};e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]});u=new n;u.options=e.widget.extend({},u.options);e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;this._super=e;this._superApply=i;s=r.apply(this,arguments);this._super=t;this._superApply=n;return s}}()});o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i});if(s){e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)});delete s._childConstructors}else n._childConstructors.push(o);e.widget.bridge(t,o)};e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s]){a=i[s][u];i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a)}return n};e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o;u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t){f=r&&r.jquery?f.pushStack(r.get()):r;return!1}}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))});return f}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0];this.element=e(r);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=e();this.hoverable=e();this.focusable=e();if(r!==this){e.data(r,this.widgetFullName,this);this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}});this.document=e(r.style?r.ownerDocument:r.document||r);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={};s=n.split(".");n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++){o[s[u]]=o[s[u]]||{};o=o[s[u]]}n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}this._setOptions(i);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;if(typeof t!="boolean"){r=n;n=t;t=!1}if(!r){r=n;n=this.element;i=this.widget()}else{n=i=e(n);this.bindings=this.bindings.add(n)}e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);this.element.trigger(n,r);return!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{};typeof i=="number"&&(i={duration:i});o=!e.isEmptyObject(i);i.complete=s;i.delay&&r.delay(i.delay);o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t]();s&&s.call(r[0]);n()})}})})(jQuery);(function(e,t){var n=!1;e(document).mouseup(function(){n=!1});e.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return!1}});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted){t.preventDefault();return!0}}!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return r._mouseMove(e)};this._mouseUpDelegate=function(e){return r._mouseUp(e)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();n=!0;return!0},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=!1;t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0);this._mouseStop(t)}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;if(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)return!1;this.handle=this._getHandle(t);if(!this.handle)return!1;e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")});return!0},_mouseStart:function(t){var n=this.options;this.helper=this._createHelper(t);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();e.ui.ddmanager&&(e.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);n.containment&&this._setContainment();if(this._trigger("start",t)===!1){this._clear();return!1}this._cacheHelperProportions();e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this._mouseDrag(t,!0);e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t);return!0},_mouseDrag:function(t,n){this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1){this._mouseUp({});return!1}this.position=r.position}if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);return!1},_mouseStop:function(t){var n,r=this,i=!1,s=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t));if(this.dropped){s=this.dropped;this.dropped=!1}n=this.element[0];while(n&&(n=n.parentNode))n===document&&(i=!0);if(!i&&this.options.helper==="original")return!1;this.options.revert==="invalid"&&!s||this.options.revert==="valid"&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t);return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;e(this.options.handle,this.element).find("*").addBack().each(function(){this===t.target&&(n=!0)});return n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;r.parents("body").length||r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo);r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute");return r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[i.containment==="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,i.containment==="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(i.containment==="document"?0:e(window).scrollLeft())+e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(i.containment==="document"?0:e(window).scrollTop())+(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(i.containment)&&i.containment.constructor!==Array){n=e(i.containment);r=n[0];if(!r)return;t=e(r).css("overflow")!=="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=n}else i.containment.constructor===Array&&(this.containment=i.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName),f=t.pageX,l=t.pageY;if(this.originalPosition){if(this.containment){if(this.relative_container){r=this.relative_container.offset();n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]}else n=this.containment;t.pageX-this.offset.click.left<n[0]&&(f=n[0]+this.offset.click.left);t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top);t.pageX-this.offset.click.left>n[2]&&(f=n[2]+this.offset.click.left);t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)}if(o.grid){i=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i;s=o.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;f=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s}}return{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,n,r){r=r||this._uiHash();e.ui.plugin.call(this,t,[n,r]);t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[];e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");if(n&&!n.options.disabled){r.sortables.push({instance:n,shouldRevert:n.options.revert});n.refreshPositions();n._trigger("activate",t,s)}})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;r.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;this.shouldRevert&&(this.instance.options.revert=!0);this.instance._mouseStop(t);this.instance.options.helper=this.instance.options._helper;r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=!1;this.instance._trigger("deactivate",t,i)}})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var s=!1,o=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){s=!0;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(o.instance.element[0],this.instance.element[0])&&(s=!1);return s})}if(s){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return n.helper[0]};t.target=this.instance.currentItem[0];this.instance._mouseCapture(t,!0);this.instance._mouseStart(t,!0,!0);this.instance.offset.click.top=r.offset.click.top;this.instance.offset.click.left=r.offset.click.left;this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top;r._trigger("toSortable",t);r.dropped=this.instance.element;r.currentItem=r.element;this.instance.fromOutside=r}this.instance.currentItem&&this.instance._mouseDrag(t)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=!0;this.instance.options.revert=!1;this.instance._trigger("out",t,this.instance._uiHash(this.instance));this.instance._mouseStop(t,!0);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();r._trigger("fromSortable",t);r.dropped=!1}})}});e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor"));t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}});e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity"));r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}});e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;if(n.scrollParent[0]!==document&&n.scrollParent[0].tagName!=="HTML"){if(!r.axis||r.axis!=="x")n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed);if(!r.axis||r.axis!=="y")n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed)}else{if(!r.axis||r.axis!=="x")t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed));if(!r.axis||r.axis!=="y")t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))}i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}});e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[];e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--){u=p.snapElements[c].left;a=u+p.snapElements[c].width;f=p.snapElements[c].top;l=f+p.snapElements[c].height;if(!(u-v<m&&m<a+v&&f-v<y&&y<l+v||u-v<m&&m<a+v&&f-v<b&&b<l+v||u-v<g&&g<a+v&&f-v<y&&y<l+v||u-v<g&&g<a+v&&f-v<b&&b<l+v)){p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item}));p.snapElements[c].snapping=!1;continue}if(d.snapMode!=="inner"){r=Math.abs(f-b)<=v;i=Math.abs(l-y)<=v;s=Math.abs(u-g)<=v;o=Math.abs(a-m)<=v;r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top);i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top);s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left);o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)}h=r||i||s||o;if(d.snapMode!=="outer"){r=Math.abs(f-y)<=v;i=Math.abs(l-b)<=v;s=Math.abs(u-m)<=v;o=Math.abs(a-g)<=v;r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top);i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top);s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left);o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left)}!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item}));p.snapElements[c].snapping=r||i||s||o||h}}});e.ui.plugin.add("draggable","stack",{start:function(){var t,n=e(this).data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!r.length)return;t=parseInt(r[0].style.zIndex,10)||0;e(r).each(function(e){this.style.zIndex=t+e});this[0].style.zIndex=t+r.length}});e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex"));r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})})(jQuery);var store=function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}function u(){try{return i in t&&t[i]&&t[i][t.location.hostname]}catch(e){return!1}}var e={},t=window,n=t.document,r="localStorage",i="globalStorage",s;e.set=function(e,t){};e.get=function(e){};e.remove=function(e){};e.clear=function(){};e.transact=function(t,n){var r=e.get(t);typeof r=="undefined"&&(r={});n(r);e.set(t,r)};e.serialize=function(e){return JSON.stringify(e)};e.deserialize=function(e){return typeof e!="string"?undefined:JSON.parse(e)};if(o()){s=t[r];e.set=function(t,n){s.setItem(t,e.serialize(n))};e.get=function(t){return e.deserialize(s.getItem(t))};e.remove=function(e){s.removeItem(e)};e.clear=function(){s.clear()}}else if(u()){s=t[i][t.location.hostname];e.set=function(t,n){s[t]=e.serialize(n)};e.get=
function(t){return e.deserialize(s[t]&&s[t].value)};e.remove=function(e){delete s[e]};e.clear=function(){for(var e in s)delete s[e]}}else if(n.documentElement.addBehavior){s=n.createElement("div");function a(t){return function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(s);n.body.appendChild(s);s.addBehavior("#default#userData");s.load(r);var o=t.apply(e,i);n.body.removeChild(s);return o}}e.set=a(function(t,n,i){t.setAttribute(n,e.serialize(i));t.save(r)});e.get=a(function(t,n){return e.deserialize(t.getAttribute(n))});e.remove=a(function(e,t){e.removeAttribute(t);e.save(r)});e.clear=a(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=0,i;i=t[n];n++)e.removeAttribute(i.name);e.save(r)})}return e}();(function(e,t){function n(n,r){function s(e){return a.preferFlash&&kt&&!a.ignoreFlash&&a.flash[e]!==t&&a.flash[e]}function o(e){return function(t){var n=this._s;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130101";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l=null,c,h=navigator.userAgent,p=e.location.href.toString(),d=document,v,m,y,b,w=[],E=!1,S=!1,x=!1,T=!1,N=!1,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G=null,Y=null,Z,et,tt,nt,rt,it,st,ot=!1,ut=!1,at,ft,lt,ct=0,ht=null,pt,dt=[],vt=null,mt,gt,yt,bt,wt,Et,St,xt,Tt=Array.prototype.slice,Nt=!1,Ct,kt,Lt,At,Ot,Mt=h.match(/(ipad|iphone|ipod)/i),_t=h.match(/android/i),Dt=h.match(/msie/i),Pt=h.match(/webkit/i),Ht=h.match(/safari/i)&&!h.match(/chrome/i),Bt=h.match(/opera/i),jt=h.match(/(mobile|pre\/|xoom)/i)||Mt||_t,Ft=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ht&&!h.match(/silk/i)&&h.match(/OS X 10_6_([3-7])/i),It=d.hasFocus!==t?d.hasFocus():null,qt=Ht&&(d.hasFocus===t||!d.hasFocus()),Rt=!qt,Ut=/(mp3|mp4|mpa|m4a|m4b)/i,zt=d.location?d.location.protocol.match(/http/i):null,Wt=zt?"":"http://",Xt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),$t=RegExp("\\.("+Vt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!zt;var Jt;try{Jt=Audio!==t&&(Bt&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(Kt){Jt=!1}this.hasHTML5=Jt;this.setup=function(e){var n=!a.url;e!==t&&x&&vt&&a.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&it(Z("setupLate"));L(e);n&&U&&e.url!==t&&a.beginDelayedInit();!U&&e.url!==t&&"complete"===d.readyState&&setTimeout(q,1);return a};this.supported=this.ok=function(){return vt?x&&!T:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(t){return c(t)||d[t]||e[t]};this.createSound=function(e,n){function r(){i=nt(i);a.sounds[i.id]=new u(i);a.soundIDs.push(i.id);return a.sounds[i.id]}var i,s=null;if(!x||!a.ok())return it(void 0),!1;n!==t&&(e={id:e,url:n});i=k(e);i.url=pt(i.url);if(st(i.id,!0))return a.sounds[i.id];gt(i)?(s=r(),s._setup_html5(i)):(8<b&&null===i.isMovieStar&&(i.isMovieStar=!!i.serverURL||!!(i.type&&i.type.match(Xt)||i.url.match($t))),i=rt(i,void 0),s=r(),8===b?l._createSound(i.id,i.loops||1,i.usePolicyFile):(l._createSound(i.id,i.url,i.usePeakData,i.useWaveformData,i.useEQData,i.isMovieStar,i.isMovieStar?i.bufferTime:!1,i.loops||1,i.serverURL,i.duration||null,i.autoPlay,!0,i.autoLoad,i.usePolicyFile),i.serverURL||(s.connected=!0,i.onconnect&&i.onconnect.apply(s))),!i.serverURL&&(i.autoLoad||i.autoPlay)&&s.load(i));!i.serverURL&&i.autoPlay&&s.play();return s};this.destroySound=function(e,t){if(!st(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return st(e)?a.sounds[e].load(t):!1};this.unload=function(e){return st(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return st(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return st(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;return!x||!a.ok()?(it("soundManager.play(): "+Z(x?"notOK":"notReady")),n):st(e)?a.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(t.id=e,n=a.createSound(t).play()),n)};this.setPosition=function(e,t){return st(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return st(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return st(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return st(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return st(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return st(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return st(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;e instanceof String&&(e=null);if(e)return st(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){e instanceof String&&(e=null);if(e)return st(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return st(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;l&&8!==b&&(e=parseInt(l._getMemoryUse(),10));return e};this.disable=function(n){var r;n===t&&(n=!1);if(T)return!1;T=!0;for(r=a.soundIDs.length-1;0<=r;r--)J(a.sounds[a.soundIDs[r]]);C(n);xt.remove(e,"load",_);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=yt({type:e}));!t&&vt&&(t=e&&a.ok()?!!(8<b&&e.match(Xt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=yt({url:e}));!t&&vt&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return e.type!==t&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/_undefined");return a.sounds[e]};this.onready=function(t,n){if("function"!=typeof t)throw Z("needFunction","onready");n||(n=e),O("onready",t,n),M();return!0};this.ontimeout=function(t,n){if("function"!=typeof t)throw Z("needFunction","ontimeout");n||(n=e),O("ontimeout",t,n),M({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(t,n){var r,s,o;for(r=a.soundIDs.length-1;0<=r;r--)a.sounds[a.soundIDs[r]].destruct();if(l)try{Dt&&(Y=l.innerHTML),G=l.parentNode.removeChild(l)}catch(u){}Y=G=vt=l=null;a.enabled=U=x=ot=ut=E=S=T=Nt=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};if(t)w=[];else for(r in w)if(w.hasOwnProperty(r)){s=0;for(o=w[r].length;s<o;s++)w[r][s].fired=!1}a.html5={usingFlash:null};a.flash={};a.html5Only=!1;a.ignoreFlash=!1;e.setTimeout(function(){I();n||a.beginDelayedInit()},20);return a};this.reset=function(){return a.reboot(!0,!0)};this.getMoviePercent=function(){return l&&"PercentLoaded"in l?l.PercentLoaded():null};this.beginDelayedInit=function(){N=!0;q();setTimeout(function(){if(ut)return!1;W();F();return ut=!0},20);D()};this.destruct=function(){a.disable(!0)};u=function(e){var n,r,i=this,s,o,u,c,h,p,d=!1,v=[],m=0,y,w,E=null;r=n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=k(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var n=null;e!==t?i._iO=k(e,i.options):(e=i.options,i._iO=e,E&&E!==i.url&&(i._iO.url=i.url,i.url=null));i._iO.url||(i._iO.url=i.url);i._iO.url=pt(i._iO.url);e=i.instanceOptions=i._iO;if(e.url===i.url&&0!==i.readyState&&2!==i.readyState)return 3===i.readyState&&e.onload&&e.onload.apply(i,[!!i.duration]),i;i.loaded=!1;i.readyState=1;i.playState=0;i.id3={};if(gt(e))n=i._setup_html5(e),n._called_load||(i._html5_canplay=!1,i.url!==e.url&&(i._a.src=e.url,i.setPosition(0)),i._a.autobuffer="auto",i._a.preload="auto",i._a._called_load=!0,e.autoPlay&&i.play());else try{i.isHTML5=!1,i._iO=rt(nt(e)),e=i._iO,8===b?l._load(i.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):l._load(i.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(r){X({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}i.url=e.url;return i};this.unload=function(){0!==i.readyState&&(i.isHTML5?(c(),i._a&&(i._a.pause(),wt(i._a,"about:blank"),E="about:blank")):8===b?l._unload(i.id,"about:blank"):l._unload(i.id),s());return i};this.destruct=function(e){i.isHTML5?(c(),i._a&&(i._a.pause(),wt(i._a),Nt||u(),i._a._s=null,i._a=null)):(i._iO.onfailure=null,l._destroySound(i.id));e||a.destroySound(i.id,!0)};this.start=this.play=function(e,n){var r,s;s=!0;s=null;n=n===t?!0:n;e||(e={});i.url&&(i._iO.url=i.url);i._iO=k(i._iO,i.options);i._iO=k(e,i._iO);i._iO.url=pt(i._iO.url);i.instanceOptions=i._iO;if(i._iO.serverURL&&!i.connected)return i.getAutoPlay()||i.setAutoPlay(!0),i;gt(i._iO)&&(i._setup_html5(i._iO),h());1===i.playState&&!i.paused&&((r=i._iO.multiShot)||(s=i));if(null!==s)return s;e.url&&e.url!==i.url&&i.load(i._iO);i.loaded||(0===i.readyState?(i.isHTML5||(i._iO.autoPlay=!0),i.load(i._iO),i.instanceOptions=i._iO):2===i.readyState&&(s=i));if(null!==s)return s;!i.isHTML5&&9===b&&0<i.position&&i.position===i.duration&&(e.position=0);if(i.paused&&0<=i.position&&(!i._iO.serverURL||0<i.position))i.resume();else{i._iO=k(e,i._iO);if(null!==i._iO.from&&null!==i._iO.to&&0===i.instanceCount&&0===i.playState&&!i._iO.serverURL){r=function(){i._iO=k(e,i._iO);i.play(i._iO)};i.isHTML5&&!i._html5_canplay?(i.load({oncanplay:r}),s=!1):!i.isHTML5&&!i.loaded&&(!i.readyState||2!==i.readyState)&&(i.load({onload:r}),s=!1);if(null!==s)return s;i._iO=w()}(!i.instanceCount||i._iO.multiShotEvents||!i.isHTML5&&8<b&&!i.getAutoPlay())&&i.instanceCount++;i._iO.onposition&&0===i.playState&&p(i);i.playState=1;i.paused=!1;i.position=i._iO.position!==t&&!isNaN(i._iO.position)?i._iO.position:0;i.isHTML5||(i._iO=rt(nt(i._iO)));i._iO.onplay&&n&&(i._iO.onplay.apply(i),d=!0);i.setVolume(i._iO.volume,!0);i.setPan(i._iO.pan,!0);i.isHTML5?(h(),s=i._setup_html5(),i.setPosition(i._iO.position),s.play()):(s=l._start(i.id,i._iO.loops||1,9===b?i._iO.position:i._iO.position/1e3,i._iO.multiShot),9===b&&!s&&i._iO.onplayerror&&i._iO.onplayerror.apply(i))}return i};this.stop=function(e){var t=i._iO;1===i.playState&&(i._onbufferchange(0),i._resetOnPosition(0),i.paused=!1,i.isHTML5||(i.playState=0),y(),t.to&&i.clearOnPosition(t.to),i.isHTML5?i._a&&(e=i.position,i.setPosition(0),i.position=e,i._a.pause(),i.playState=0,i._onTimer(),c()):(l._stop(i.id,e),t.serverURL&&i.unload()),i.instanceCount=0,i._iO={},t.onstop&&t.onstop.apply(i));return i};this.setAutoPlay=function(e){i._iO.autoPlay=e;i.isHTML5||(l._setAutoPlay(i.id,e),e&&!i.instanceCount&&1===i.readyState&&i.instanceCount++)};this.getAutoPlay=function(){return i._iO.autoPlay};this.setPosition=function(e){e===t&&(e=0);var n=i.isHTML5?Math.max(e,0):Math.min(i.duration||i._iO.duration,Math.max(e,0));i.position=n;e=i.position/1e3;i._resetOnPosition(i.position);i._iO.position=n;if(i.isHTML5){if(i._a&&i._html5_canplay&&i._a.currentTime!==e)try{i._a.currentTime=e,(0===i.playState||i.paused)&&i._a.pause()}catch(r){}}else e=9===b?i.position:e,i.readyState&&2!==i.readyState&&l._setPosition(i.id,e,i.paused||!i.playState,i._iO.multiShot);i.isHTML5&&i.paused&&i._onTimer(!0);return i};this.pause=function(e){if(i.paused||0===i.playState&&1!==i.readyState)return i;i.paused=!0;i.isHTML5?(i._setup_html5().pause(),c()):(e||e===t)&&l._pause(i.id,i._iO.multiShot);i._iO.onpause&&i._iO.onpause.apply(i);return i};this.resume=function(){var e=i._iO;if(!i.paused)return i;i.paused=!1;i.playState=1;i.isHTML5?(i._setup_html5().play(),h()):(e.isMovieStar&&!e.serverURL&&i.setPosition(i.position),l._pause(i.id,e.multiShot));!d&&e.onplay?(e.onplay.apply(i),d=!0):e.onresume&&e.onresume.apply(i);return i};this.togglePause=function(){if(0===i.playState)return i.play({position:9===b&&!i.isHTML5?i.position:i.position/1e3}),i;i.paused?i.resume():i.pause();return i};this.setPan=function(e,n){e===t&&(e=0);n===t&&(n=!1);i.isHTML5||l._setPan(i.id,e);i._iO.pan=e;n||(i.pan=e,i.options.pan=e);return i};this.setVolume=function(e,n){e===t&&(e=100);n===t&&(n=!1);i.isHTML5?i._a&&(i._a.volume=Math.max(0,Math.min(1,e/100))):l._setVolume(i.id,a.muted&&!i.muted||i.muted?0:e);i._iO.volume=e;n||(i.volume=e,i.options.volume=e);return i};this.mute=function(){i.muted=!0;i.isHTML5?i._a&&(i._a.muted=!0):l._setVolume(i.id,0);return i};this.unmute=function(){i.muted=!1;var e=i._iO.volume!==t;i.isHTML5?i._a&&(i._a.muted=!1):l._setVolume(i.id,e?i._iO.volume:i.options.volume);return i};this.toggleMute=function(){return i.muted?i.unmute():i.mute()};this.onposition=this.onPosition=function(e,n,r){v.push({position:parseInt(e,10),method:n,scope:r!==t?r:i,fired:!1});return i};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<v.length;n++)e===v[n].position&&(!t||t===v[n].method)&&(v[n].fired&&m--,v.splice(n,1))};this._processOnPosition=function(){var e,t;e=v.length;if(!e||!i.playState||m>=e)return!1;for(e-=1;0<=e;e--)t=v[e],!t.fired&&i.position>=t.position&&(t.fired=!0,m++,t.method.apply(t.scope,[t.position]));return!0};this._resetOnPosition=function(e){var t,n;t=v.length;if(!t)return!1;for(t-=1;0<=t;t--)n=v[t],n.fired&&e<=n.position&&(n.fired=!1,m--);return!0};w=function(){var e=i._iO,t=e.from,n=e.to,r,s;s=function(){i.clearOnPosition(n,s);i.stop()};r=function(){null!==n&&!isNaN(n)&&i.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,r());return e};p=function(){var e,t=i._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&i.onPosition(parseInt(e,10),t[e])};y=function(){var e,t=i._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&i.clearOnPosition(parseInt(e,10))};h=function(){i.isHTML5&&at(i)};c=function(){i.isHTML5&&ft(i)};s=function(e){e||(v=[],m=0);d=!1;i._hasTimer=null;i._a=null;i._html5_canplay=!1;i.bytesLoaded=null;i.bytesTotal=null;i.duration=i._iO&&i._iO.duration?i._iO.duration:null;i.durationEstimate=null;i.buffered=[];i.eqData=[];i.eqData.left=[];i.eqData.right=[];i.failures=0;i.isBuffering=!1;i.instanceOptions={};i.instanceCount=0;i.loaded=!1;i.metadata={};i.readyState=0;i.muted=!1;i.paused=!1;i.peakData={left:0,right:0};i.waveformData={left:[],right:[]};i.playState=0;i.position=null;i.id3={}};s();this._onTimer=function(e){var t,s=!1,o={};if(i._hasTimer||e){i._a&&(e||(0<i.playState||1===i.readyState)&&!i.paused)&&(t=i._get_html5_duration(),t!==n&&(n=t,i.duration=t,s=!0),i.durationEstimate=i.duration,t=1e3*i._a.currentTime||0,t!==r&&(r=t,s=!0),(s||e)&&i._whileplaying(t,o,o,o,o));return s}};this._get_html5_duration=function(){var e=i._iO;return(e=i._a&&i._a.duration?1e3*i._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=k(i._iO,e),t=decodeURI,n=Nt?f:i._a,r=t(e.url),u;Nt?r===Ct&&(u=!0):r===E&&(u=!0);if(n){if(n._s)if(Nt)n._s&&n._s.playState&&!u&&n._s.stop();else if(!Nt&&r===t(E))return i._apply_loop(n,e.loops),n;u||(s(!1),n.src=e.url,Ct=E=i.url=e.url,n._called_load=!1)}else i._a=e.autoLoad||e.autoPlay?new Audio(e.url):Bt&&10>opera.version()?new Audio(null):new Audio,n=i._a,n._called_load=!1,Nt&&(f=n);i.isHTML5=!0;i._a=n;n._s=i;o();i._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?i.load():(n.autobuffer=!1,n.preload="auto");return n};o=function(){if(i._a._added_events)return!1;var e;i._a._added_events=!0;for(e in Ot)Ot.hasOwnProperty(e)&&i._a&&i._a.addEventListener(e,Ot[e],!1);return!0};u=function(){var e;i._a._added_events=!1;for(e in Ot)Ot.hasOwnProperty(e)&&i._a&&i._a.removeEventListener(e,Ot[e],!1)};this._onload=function(e){e=!!e||!i.isHTML5&&8===b&&i.duration;i.loaded=e;i.readyState=e?3:2;i._onbufferchange(0);i._iO.onload&&i._iO.onload.apply(i,[e]);return!0};this._onbufferchange=function(e){if(0===i.playState||e&&i.isBuffering||!e&&!i.isBuffering)return!1;i.isBuffering=1===e;i._iO.onbufferchange&&i._iO.onbufferchange.apply(i);return!0};this._onsuspend=function(){i._iO.onsuspend&&i._iO.onsuspend.apply(i);return!0};this._onfailure=function(e,t,n){i.failures++;i._iO.onfailure&&1===i.failures&&i._iO.onfailure(i,e,t,n)};this._onfinish=function(){var e=i._iO.onfinish;i._onbufferchange(0);i._resetOnPosition(0);i.instanceCount&&(i.instanceCount--,i.instanceCount||(y(),i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},c(),i.isHTML5&&(i.position=0)),(!i.instanceCount||i._iO.multiShotEvents)&&e&&e.apply(i))};this._whileloading=function(e,t,n,r){var s=i._iO;i.bytesLoaded=e;i.bytesTotal=t;i.duration=Math.floor(n);i.bufferLength=r;i.durationEstimate=!i.isHTML5&&!s.isMovieStar?s.duration?i.duration>s.duration?i.duration:s.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10):i.duration;i.isHTML5||(i.buffered=[{start:0,end:i.duration}]);(3!==i.readyState||i.isHTML5)&&s.whileloading&&s.whileloading.apply(i)};this._whileplaying=function(e,n,r,s,o){var u=i._iO;if(isNaN(e)||null===e)return!1;i.position=Math.max(0,e);i._processOnPosition();!i.isHTML5&&8<b&&(u.usePeakData&&n!==t&&n&&(i.peakData={left:n.leftPeak,right:n.rightPeak}),u.useWaveformData&&r!==t&&r&&(i.waveformData={left:r.split(","),right:s.split(",")}),u.useEQData&&o!==t&&o&&o.leftEQ&&(e=o.leftEQ.split(","),i.eqData=e,i.eqData.left=e,o.rightEQ!==t&&o.rightEQ&&(i.eqData.right=o.rightEQ.split(","))));1===i.playState&&(!i.isHTML5&&8===b&&!i.position&&i.isBuffering&&i._onbufferchange(0),u.whileplaying&&u.whileplaying.apply(i));return!0};this._oncaptiondata=function(e){i.captiondata=e;i._iO.oncaptiondata&&i._iO.oncaptiondata.apply(i,[e])};this._onmetadata=function(e,t){var n={},r,s;r=0;for(s=e.length;r<s;r++)n[e[r]]=t[r];i.metadata=n;i._iO.onmetadata&&i._iO.onmetadata.apply(i)};this._onid3=function(e,t){var n=[],r,s;r=0;for(s=e.length;r<s;r++)n[e[r]]=t[r];i.id3=k(i.id3,n);i._iO.onid3&&i._iO.onid3.apply(i)};this._onconnect=function(e){e=1===e;if(i.connected=e)i.failures=0,st(i.id)&&(i.getAutoPlay()?i.play(t,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[e])};this._ondataerror=function(){0<i.playState&&i._iO.ondataerror&&i._iO.ondataerror.apply(i)}};z=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};c=function(e){return d.getElementById(e)};k=function(e,n){var r=e||{},i,s;i=n===t?a.defaultOptions:n;for(s in i)i.hasOwnProperty(s)&&r[s]===t&&(r[s]="object"!=typeof i[s]||null===i[s]?i[s]:k(r[s],i[s]));return r};A={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};L=function(e,n){var r,i=!0,s=n!==t,o=a.setupOptions;for(r in e)if(e.hasOwnProperty(r))if("object"!=typeof e[r]||null===e[r]||e[r]instanceof Array||e[r]instanceof RegExp)s&&A[n]!==t?a[n][r]=e[r]:o[r]!==t?(a.setupOptions[r]=e[r],a[r]=e[r]):A[r]===t?(it(Z(a[r]===t?"setupUndef":"setupError",r),2),i=!1):a[r]instanceof Function?a[r].apply(a,e[r]instanceof Array?e[r]:[e[r]]):a[r]=e[r];else{if(A[r]!==t)return L(e[r],r);it(Z(a[r]===t?"setupUndef":"setupError",r),2),i=!1}return i};var Qt=function(e){var e=Tt.call(e),t=e.length;Yt?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e},Gt=function(e,t){var n=e.shift(),r=[Zt[t]];Yt?n[r](e[0],e[1]):n[r].apply(n,e)},Yt=e.attachEvent,Zt={add:Yt?"attachEvent":"addEventListener",remove:Yt?"detachEvent":"removeEventListener"};xt={add:function(){Gt(Qt(arguments),"add")},remove:function(){Gt(Qt(arguments),"remove")}};Ot={abort:o(function(){}),canplay:o(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==n)try{this.currentTime=n}catch(r){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:o(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var e=this._s;!e._loaded&&!Ht&&(e.duration=e._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(e){var t=this._s,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){n=0;for(r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Ot.canplaythrough.call(this,e))}),ratechange:o(function(){}),suspend:o(function(e){var t=this._s;Ot.progress.call(this,e);t._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})};gt=function(e){return e.serverURL||e.type&&s(e.type)?!1:e.type?yt({type:e.type}):yt({url:e.url})||a.html5Only};wt=function(e,t){e&&(e.src=t,e._called_load=!1);Nt&&(Ct=null)};yt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var n=e.url||null,e=e.type||null,r=a.audioFormats,i;if(e&&a.html5[e]!==t)return a.html5[e]&&!s(e);if(!bt){bt=[];for(i in r)r.hasOwnProperty(i)&&(bt.push(i),r[i].related&&(bt=bt.concat(r[i].related)));bt=RegExp("\\.("+bt.join("|")+")(\\?.*)?$","i")}i=n?n.toLowerCase().match(bt):null;!i||!i.length?e&&(n=e.indexOf(";"),i=(-1!==n?e.substr(0,n):e).substr(6)):i=i[1];i&&a.html5[i]!==t?n=a.html5[i]&&!s(i):(e="audio/"+i,n=a.html5.canPlayType({type:e}),n=(a.html5[i]=n)&&a.html5[e]&&!s(e));return n};St=function(){function e(e){var t,r,i=t=!1;if(!n||"function"!=typeof n.canPlayType)return t;if(e instanceof Array){t=0;for(r=e.length;t<r;t++)if(a.html5[e[t]]||n.canPlayType(e[t]).match(a.html5Test))i=!0,a.html5[e[t]]=!0,a.flash[e[t]]=!!e[t].match(Ut);t=i}else e=n&&"function"==typeof n.canPlayType?n.canPlayType(e):!1,t=!!e&&!!e.match(a.html5Test);return t}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var n=Audio!==t?Bt&&10>opera.version()?new Audio(null):new Audio:null,r,i,s={},o;o=a.audioFormats;for(r in o)if(o.hasOwnProperty(r)&&(i="audio/"+r,s[r]=e(o[r].type),s[i]=s[r],r.match(Ut)?(a.flash[r]=!0,a.flash[i]=!0):(a.flash[r]=!1,a.flash[i]=!1),o[r]&&o[r].related))for(i=o[r].related.length-1;0<=i;i--)s["audio/"+o[r].related[i]]=s[r],a.html5[o[r].related[i]]=s[r],a.flash[o[r].related[i]]=s[r];s.canPlayType=n?e:null;a.html5=k(a.html5,s);return!0};j={};Z=function(){};nt=function(e){8===b&&1<e.loops&&e.stream&&(e.stream=!1);return e};rt=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};it=function(){};v=function(){return!1};J=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};K=function(e){e===t&&(e=!1);(T||e)&&a.disable(e)};Q=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};H=function(){b=parseInt(a.flashVersion,10);8!==b&&9!==b&&(a.flashVersion=b=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>b&&(a.flashVersion=b=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===b?" (AS3/Flash 9)":" (AS2/Flash 8)");8<b?(a.defaultOptions=k(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=k(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Vt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==b?"flash9":"flash8"];a.movieURL=(8===b?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<b};V=function(e,t){if(!l)return!1;l._setPolling(e,t)};$=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};st=this.getSoundById;tt=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};et=function(){Z("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;a.ok()?a.oMC&&(a.oMC.className=[tt(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" ")):(vt&&(a.oMC.className=tt()+" movieContainer "+(null===e?"swf_timedout":"swf_error")),a.didFlashBlock=!0,M({type:"ontimeout",ignoreInit:!0,error:t}),X(t))};O=function(e,n,r){w[e]===t&&(w[e]=[]);w[e].push({method:n,scope:r||null,fired:!1})};M=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!x&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||T&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!T},n=e&&e.type?w[e.type]||[]:[],r=[],i,t=[t],s=vt&&!a.ok();e.error&&(t[0].error=e.error);e=0;for(i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length){e=0;for(i=r.length;e<i;e++)r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),s||(r[e].fired=!0)}return!0};_=function(){e.setTimeout(function(){a.useFlashBlock&&et();M();"function"==typeof a.onload&&a.onload.apply(e);a.waitForWindowLoad&&xt.add(e,"load",_)},1)};Lt=function(){if(kt!==t)return kt;var n=!1,r=navigator,s=r.plugins,o,u=e.ActiveXObject;if(s&&s.length)(r=r.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(u!==t&&!h.match(/MSAppHost/i)){try{o=new u("ShockwaveFlash.ShockwaveFlash")}catch(a){}n=!!o}return kt=n};mt=function(){var e,t,n=a.audioFormats;Mt&&h.match(/os (1|2|3_0|3_1)/i)?(a.hasHTML5=!1,a.html5Only=!0,a.oMC&&(a.oMC.style.display="none")):a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};pt=function(e){var t,n,r=0;if(e instanceof Array){t=0;for(n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};at=function(t){t._hasTimer||(t._hasTimer=!0,!jt&&a.html5PollingInterval&&(null===ht&&0===ct&&(ht=e.setInterval(lt,a.html5PollingInterval)),ct++))};ft=function(e){e._hasTimer&&(e._hasTimer=!1,!jt&&a.html5PollingInterval&&ct--)};lt=function(){var t;if(null!==ht&&!ct)return e.clearInterval(ht),ht=null,!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].isHTML5&&a.sounds[a.soundIDs[t]]._hasTimer&&a.sounds[a.soundIDs[t]]._onTimer()};X=function(n){n=n!==t?n:{};"function"==typeof a.onerror&&a.onerror.apply(e,[{type:n.type!==t?n.type:null}]);n.fatal!==t&&n.fatal&&a.disable()};At=function(){if(!Ft||!Lt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;a.swfLoaded=!0;qt=!1;Ft&&At();setTimeout(y,Dt?100:1)};W=function(e,n){function r(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(E&&S)return!1;if(a.html5Only)return H(),a.oMC=c(a.movieID),y(),S=E=!0,!1;var i=n||a.url,s=a.altURL||i,o=z(),u=tt(),f=null,f=d.getElementsByTagName("html")[0],l,p,v,f=f&&f.dir&&f.dir.match(/rtl/i),e=e===t?a.id:e;H();a.url=Q(zt?i:s);n=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(h.match(/msie 8/i)||!Dt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(dt.push(j.spcWmode),a.wmode=null);o={name:e,id:e,src:n,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:Wt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(o.FlashVars="debug=1");a.wmode||delete o.wmode;if(Dt)i=d.createElement("div"),p=['<object id="'+e+'" data="'+n+'" type="'+o.type+'" title="'+o.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Wt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',r("movie",n),r("AllowScriptAccess",a.allowScriptAccess),r("quality",o.quality),a.wmode?r("wmode",a.wmode):"",r("bgcolor",a.bgColor),r("hasPriority","true"),a.debugFlash?r("FlashVars",o.FlashVars):"","</object>"].join("");else for(l in i=d.createElement("embed"),o)o.hasOwnProperty(l)&&i.setAttribute(l,o[l]);$();u=tt();if(o=z())if(a.oMC=c(a.movieID)||d.createElement("div"),a.oMC.id)v=a.oMC.className,a.oMC.className=(v?v+" ":"movieContainer")+(u?" "+u:""),a.oMC.appendChild(i),Dt&&(l=a.oMC.appendChild(d.createElement("div")),l.className="sm2-object-box",l.innerHTML=p),S=!0;else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+u;l=u=null;a.useFlashBlock||(a.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},f&&(u.left=Math.abs(parseInt(u.left,10))+"px")));Pt&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(v in u)u.hasOwnProperty(v)&&(a.oMC.style[v]=u[v]);try{Dt||a.oMC.appendChild(i),o.appendChild(a.oMC),Dt&&(l=a.oMC.appendChild(d.createElement("div")),l.className="sm2-object-box",l.innerHTML=p),S=!0}catch(m){throw Error(Z("domError")+" \n"+m.toString())}}return E=!0};F=function(){if(a.html5Only)return W(),!1;if(l||!a.url)return!1;l=a.getMovie(a.id);l||(G?(Dt?a.oMC.innerHTML=Y:a.oMC.appendChild(G),G=null,E=!0):W(a.id,a.url),l=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};D=function(){setTimeout(P,1e3)};P=function(){var t,n=!1;if(!a.url||ot)return!1;ot=!0;xt.remove(e,"load",D);if(qt&&!It)return!1;x||(t=a.getMoviePercent(),0<t&&100>t&&(n=!0));setTimeout(function(){t=a.getMoviePercent();if(n)return ot=!1,e.setTimeout(D,1),!1;!x&&Rt&&(null===t?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&et():M({type:"ontimeout",ignoreInit:!0}):0!==a.flashLoadTimeout&&K(!0))},a.flashLoadTimeout)};B=function(){if(It||!qt)return xt.remove(e,"focus",B),!0;It=Rt=!0;ot=!1;D();xt.remove(e,"focus",B);return!0};C=function(t){if(x)return!1;if(a.html5Only)return x=!0,_(),!0;var n=!0,r;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())x=!0,T&&(r={type:!kt&&vt?"NO_FLASH":"INIT_TIMEOUT"});if(T||t)a.useFlashBlock&&a.oMC&&(a.oMC.className=tt()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error")),M({type:"ontimeout"
,error:r,ignoreInit:!0}),X(r),n=!1;T||(a.waitForWindowLoad&&!N?xt.add(e,"load",_):_());return n};m=function(){var e,n=a.setupOptions;for(e in n)n.hasOwnProperty(e)&&(a[e]===t?a[e]=n[e]:a[e]!==n[e]&&(a.setupOptions[e]=a[e]))};y=function(){if(x)return!1;if(a.html5Only)return x||(xt.remove(e,"load",a.beginDelayedInit),a.enabled=!0,C()),!0;F();try{l._externalInterfaceTest(!1),V(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||l._disableDebug(),a.enabled=!0,a.html5Only||xt.add(e,"unload",v)}catch(t){return X({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),K(!0),C(),!1}C();xt.remove(e,"load",a.beginDelayedInit);return!0};q=function(){if(U)return!1;U=!0;m();$();!kt&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});St();a.html5.usingFlash=mt();vt=a.html5.usingFlash;!kt&&vt&&(dt.push(j.needFlash),a.setup({flashLoadTimeout:1}));d.removeEventListener&&d.removeEventListener("DOMContentLoaded",q,!1);F();return!0};Et=function(){"complete"===d.readyState&&(q(),d.detachEvent("onreadystatechange",Et));return!0};R=function(){N=!0;xt.remove(e,"load",R)};I=function(){jt&&(a.setupOptions.useHTML5Audio=!0,a.setupOptions.preferFlash=!1,Mt||_t&&!h.match(/android\s2\.3/i))&&(Mt&&(a.ignoreFlash=!0),Nt=!0)};I();Lt();xt.add(e,"focus",B);xt.add(e,"load",D);xt.add(e,"load",R);d.addEventListener?d.addEventListener("DOMContentLoaded",q,!1):d.attachEvent?d.attachEvent("onreadystatechange",Et):X({type:"NO_DOM2_EVENTS",fatal:!0})}var r=null;if(void 0===e.SM2_DEFER||!SM2_DEFER)r=new n;e.SoundManager=n;e.soundManager=r})(window);window.JP={};(function(){$(document).ready(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;a=$("#magicPopup"),l=$("#termPopup"),h=$("#babePopup"),d=$("#powerPopup"),v=$("#dimmerSwitch"),C=$("#muteToggle"),k=$("#closeBtn"),A=$("#sharePopup"),e=$("#mainTerm");hones=!1,perimeter=!1,phones=!1,security=!1,r=0;y="visited404";g=store.get(y)||!1;g||store.set(y,!0);E="muted404";S=store.get(E)||!1;x=function(e){S=e;store.set(E,e)};S&&C.addClass("active");M=function(){x(!1);o.unmute();_gaq.push(["_trackEvent","JP404","Un-Muted sound"]);C.removeClass("active")};_=function(){x(!0);o.mute();_gaq.push(["_trackEvent","JP404","Mute sound"]);C.addClass("active")};O=function(){S?M():_()};C.on("click",function(e){e.preventDefault();O()});u=new JP.Popup(a);f=new JP.Popup(l);c=new JP.Popup(h);p=new JP.Popup(d);L=new JP.Popup(A);N={handle:".handle",stack:".popup"};a.draggable(N);l.draggable(N);h.draggable(N);d.draggable(N);k.on("click",function(e){e.preventDefault();soundManager.stopAll();v.fadeOut(500,function(){v.remove()});_gaq.push(["_trackEvent","JP404","Closed"])});m=function(){v.fadeIn(500,function(){f.open(function(){t.message("received","Jurassic Park, System Security Interface");t.message("received","Version 4.0.5, Alpha E");t.message("received","Ready...");t.message("alert","Park offline, reboot required");if(g){_gaq.push(["_trackEvent","JP404","Second visit"]);t.message("info","Session restored - type <strong>help</strong> for command list")}t.message("sending")});c.open()})};i=function(){var e,n,r;w("music",1);e=0;n=100;r=setInterval(function(){t.message("received","YOU DIDN'T SAY THE MAGIC WORD!");e++;if(e>=n){r=clearInterval(r);t.message("received",'<a href="">Reboot and try again</a>')}},20);a.css({zIndex:2e3});u.open();s.play({loops:100});L.open(function(){$("#twitter-load a").addClass("twitter-follow-button");twttr.widgets.load()});_gaq.push(["_trackEvent","JP404","Failed"])};T=function(){t.message(phones?"success":"alert",phones?"phones online":"phones offline");t.message(perimeter?"success":"alert",perimeter?"perimeter fences up":"perimeter fences down");t.message(security?"success":"alert",security?"security systems activated":"security systems de-activated");if(phones===!0&&perimeter===!0&&security===!0){d.css({zIndex:2e3});p.open(function(){$(this).find("video").get(0).play();w("music",1);t.message("success","<strong>Jurassic Park is back online!</strong>");_gaq.push(["_trackEvent","JP404","Success"]);setTimeout(function(){L.open(function(){$("#twitter-load a").addClass("twitter-follow-button");twttr.widgets.load()})},9e3)})}else t.message("sending")};w=function(e,t){var n=soundManager.getSoundById(e),r=n.volume;if(r==0)return!1;n.setVolume(Math.max(0,r-t));setTimeout(function(){w(e,t)},20)};n={"default":function(){var e;e="access: PERMISSION DENIED.";r++;if(r==3){e="access: PERMISSION DENIED....and....";setTimeout(i,1e3)}t.message("received",e);r<3&&t.message("sending")},help:function(){t.message("info","commands: <strong>help</strong>, <strong>status</strong>, <strong>reboot</strong>, <strong>moff</strong>, <strong>trex</strong>");t.message("sending")},"":function(){t.message("received","command not found. type <strong>help</strong> for command list");t.message("sending")},status:function(){T()},trex:function(){window.open("https://www.youtube.com/watch?v=--40RLF5UGo");t.message("sending");_()},moff:function(){window.open("http://www.youtube.com/watch?v=P8EBKPuKdR4");t.message("sending");_()},reboot:function(){t.message("received","missing parameter, try <strong>reboot</strong> &lt;system&gt; or <strong>status</strong>");t.message("sending")},rebootphones:function(){phones=!0;T()},rebootperimeter:function(){perimeter=!0;T()},rebootperimeterfences:function(){perimeter=!0;T()},rebootfences:function(){perimeter=!0;T()},rebootsecurity:function(){security=!0;T()},rebootsecuritysystems:function(){security=!0;T()},sudorebootall:function(){phones=!0;security=!0;perimeter=!0;T()}};t=new JP.Terminal(e,n);t.init();soundManager.setup({flashVersion:9,url:"/static/js/404/soundmanager2/swf/",onready:function(){s=soundManager.createSound({id:"uhuhuh",url:"/static/sound/404/uh-uh-uh-56bit.mp3",autoLoad:!0});o=soundManager.createSound({id:"music",url:"/static/sound/404/nedry.mp3",autoLoad:!0,autoPlay:!0,stream:!0,volume:25,loops:1e3});S&&o.mute();setTimeout(m,500)}});_gaq.push(["_trackEvent","JP404","Loaded"])})})();